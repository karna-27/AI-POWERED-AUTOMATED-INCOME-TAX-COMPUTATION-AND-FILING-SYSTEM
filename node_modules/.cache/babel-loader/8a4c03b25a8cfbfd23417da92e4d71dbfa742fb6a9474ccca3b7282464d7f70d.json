{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gumma\\\\Downloads\\\\All_Projects\\\\GarudaTaxAi\\\\src\\\\components\\\\TaxHistory\\\\index.js\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect } from 'react';\n// import axios from 'axios';\n// import Cookies from 'js-cookie';\n// import './index.css'; // Import TaxHistory specific CSS\n\n// const TaxHistory = () => {\n//     const [history, setHistory] = useState([]);\n//     const [loading, setLoading] = useState(true);\n//     const [message, setMessage] = useState('');\n//     const [messageType, setMessageType] = useState(''); // 'info', 'success', 'error'\n//     const [selectedRecord, setSelectedRecord] = useState(null); // To view full details of a record\n//     const [isGeneratingITR, setIsGeneratingITR] = useState(false);\n\n//     // Helper function to safely format currency values\n//     const formatCurrency = (value) => {\n//         if (value === null || value === undefined || isNaN(parseFloat(value))) {\n//             return 'N/A';\n//         }\n//         return parseFloat(value).toLocaleString('en-IN', {\n//             style: 'currency',\n//             currency: 'INR',\n//             minimumFractionDigits: 2,\n//             maximumFractionDigits: 2,\n//         });\n//     };\n\n//     useEffect(() => {\n//         const fetchHistory = async () => {\n//             setLoading(true);\n//             setMessage('Fetching your tax history...');\n//             setMessageType('info');\n//             const jwt_token = Cookies.get('jwt_token');\n\n//             try {\n//                 const config = {\n//                     headers: {\n//                         'Authorization': `Bearer ${jwt_token}`,\n//                     }\n//                 };\n//                 const response = await axios.get('http://127.0.0.1:5000/api/tax-records', config); // Correct route\n\n//                 if (response.data.status === 'success') {\n//                     // Ensure response.data.history is an array before setting the history state\n//                     if (Array.isArray(response.data.history)) {\n//                         setHistory(response.data.history);\n//                         setMessage('Tax history loaded successfully.');\n//                         setMessageType('success');\n//                     } else {\n//                         // Handle cases where history data is not an array\n//                         console.error('API returned non-array data for history property:', response.data.history);\n//                         setHistory([]); // Set to empty array to prevent errors\n//                         setMessage('Failed to load tax history: Unexpected data format.');\n//                         setMessageType('error');\n//                     }\n//                 } else {\n//                     // Handle cases where API status is not 'success'\n//                     setMessage(response.data.message || 'Failed to fetch tax history.');\n//                     setMessageType('error');\n//                     setHistory([]); // Clear history on error to prevent rendering issues\n//                 }\n//             } catch (error) {\n//                 console.error('Fetch history error:', error);\n//                 if (error.response) {\n//                     if (error.response.status === 401) {\n//                         setMessage('Authentication required. Please log in.');\n//                     } else if (error.response.data && error.response.data.message) {\n//                         setMessage(`Error: ${error.response.data.message}`);\n//                     } else {\n//                         setMessage(`Server responded with status ${error.response.status}`);\n//                     }\n//                 } else {\n//                     setMessage('An error occurred while fetching tax history. Check network connection and backend server.');\n//                 }\n//                 setMessageType('error');\n//                 setHistory([]); // Clear history on network/server error as well\n//             } finally {\n//                 setLoading(false);\n//             }\n//         };\n\n//         fetchHistory();\n//     }, []); // Empty dependency array means this runs once on mount\n\n//     const handleViewDetails = (record) => {\n//         setSelectedRecord(record);\n//     };\n\n//     const handleCloseDetails = () => {\n//         setSelectedRecord(null);\n//     };\n\n//     const handleGenerateITRForm = async (recordId) => {\n//         setIsGeneratingITR(true);\n//         setMessage('Generating ITR form...');\n//         setMessageType('info');\n\n//         const jwt_token = Cookies.get('jwt_token');\n\n//         try {\n//             const config = {\n//                 headers: {\n//                     'Authorization': `Bearer ${jwt_token}`,\n//                 },\n//                 responseType: 'blob', // Important for receiving a file\n//             };\n\n//             const response = await axios.get(`http://127.0.0.1:5000/api/generate_itr_form/${recordId}`, config);\n\n//             if (response.status === 200) {\n//                 const blob = new Blob([response.data], { type: 'application/pdf' });\n//                 const downloadUrl = window.URL.createObjectURL(blob);\n//                 const contentDisposition = response.headers['content-disposition'];\n//                 let filename = `ITR_Form_${recordId}.pdf`; // Default filename\n\n//                 if (contentDisposition) {\n//                     const filenameMatch = contentDisposition.match(/filename=\"([^\"]+)\"/);\n//                     if (filenameMatch && filenameMatch[1]) {\n//                         filename = filenameMatch[1];\n//                     }\n//                 }\n\n//                 const link = document.createElement('a');\n//                 link.href = downloadUrl;\n//                 link.setAttribute('download', filename);\n//                 document.body.appendChild(link);\n//                 link.click();\n//                 link.remove();\n//                 window.URL.revokeObjectURL(downloadUrl);\n\n//                 setMessage('ITR form generated and downloaded successfully!');\n//                 setMessageType('success');\n//             } else {\n//                 const errorData = await new Response(response.data).text(); // Read blob as text for error\n//                 setMessage(`Failed to generate ITR form: ${errorData || response.statusText}`);\n//                 setMessageType('error');\n//             }\n//         } catch (error) {\n//             console.error('ITR generation error:', error);\n//             if (axios.isAxiosError(error) && error.response && error.response.data) {\n//                 const reader = new FileReader();\n//                 reader.onload = () => {\n//                     try {\n//                         const errorJson = JSON.parse(reader.result);\n//                         setMessage(`Error generating ITR form: ${errorJson.message || JSON.stringify(errorJson)}`);\n//                     } catch (e) {\n//                         setMessage(`Error generating ITR form: ${reader.result || error.response.statusText}`);\n//                     }\n//                 };\n//                 reader.readAsText(error.response.data);\n//             } else {\n//                 setMessage('Network error or server unavailable during ITR form generation.');\n//             }\n//             setMessageType('error');\n//         } finally {\n//             setIsGeneratingITR(false);\n//         }\n//     };\n\n//     return (\n//         <div className=\"tax-history-container section-box\">\n//             <h2 className=\"tax-history-title\">Your Tax Filing History</h2>\n\n//             {loading && (\n//                 <div className=\"tax-history-loading\">\n//                     <div className=\"tax-history-spinner\"></div>\n//                     {message}\n//                 </div>\n//             )}\n\n//             {message && !loading && (\n//                 <div className={`tax-history-message ${messageType}`}>\n//                     {message}\n//                 </div>\n//             )}\n\n//             {history.length === 0 && !loading && messageType !== 'error' && (\n//                 <p className=\"no-records-message\">No tax records found. Upload documents to get started!</p>\n//             )}\n\n//             {!selectedRecord && history.length > 0 && !loading && (\n//                 <div className=\"history-list\">\n//                     {history.map((record) => (\n//                         <div key={record._id} className=\"history-item section-box\">\n//                             <div className=\"history-item-header\">\n//                                 <h3>Record ID: {record._id.substring(0, 8)}...</h3>\n//                                 <span className=\"timestamp\">\n//                                     {new Date(record.timestamp).toLocaleString()}\n//                                 </span>\n//                             </div>\n//                             <div className=\"history-item-details\">\n//                                 <p><strong>Financial Year:</strong> {record.aggregated_financial_data?.financial_year || 'N/A'}</p>\n//                                 <p><strong>Assessment Year:</strong> {record.aggregated_financial_data?.assessment_year || 'N/A'}</p>\n//                                 <p><strong>Name:</strong> {record.aggregated_financial_data?.name || 'N/A'}</p>\n//                                 <p><strong>Estimated Tax Payable:</strong> {formatCurrency(record.final_tax_computation_summary?.estimated_tax_payable)}</p>\n//                                 <p><strong>Refund Due:</strong> {formatCurrency(record.final_tax_computation_summary?.refund_due_from_tax)}</p>\n//                                 <p><strong>Tax Due:</strong> {formatCurrency(record.final_tax_computation_summary?.tax_due_to_government)}</p>\n//                             </div>\n//                             <div className=\"history-item-actions\">\n//                                 <button onClick={() => handleViewDetails(record)} className=\"view-details-button\">\n//                                     View Details\n//                                 </button>\n//                                 <button\n//                                     onClick={() => handleGenerateITRForm(record._id)}\n//                                     className=\"generate-itr-button\"\n//                                     disabled={isGeneratingITR}\n//                                 >\n//                                     {isGeneratingITR ? 'Generating...' : 'Generate ITR Form'}\n//                                 </button>\n//                             </div>\n//                         </div>\n//                     ))}\n//                 </div>\n//             )}\n\n//             {selectedRecord && (\n//                 <div className=\"selected-record-details\">\n//                     <button onClick={handleCloseDetails} className=\"back-button\">\n//                         &larr; Back to History\n//                     </button>\n//                     <h3 className=\"selected-record-title\">Details for Record ID: {selectedRecord._id}</h3>\n\n//                     {/* Document Processing Summary */}\n//                     {selectedRecord.document_processing_summary && (\n//                         <div className=\"document-processing-summary-section section-box\">\n//                             <h4>Document Processing Summary</h4>\n//                             {selectedRecord.document_processing_summary.map((doc, index) => {\n//                                 const statusClass = doc.status === 'success' ? 'status-success' :\n//                                                     doc.status === 'warning' ? 'status-warning' : 'status-error';\n//                                 return (\n//                                     <div key={index} className=\"document-status-item\">\n//                                         <p><strong>File:</strong> {doc.filename} ({doc.stored_path && <a href={`http://127.0.0.1:5000${doc.stored_path}`} target=\"_blank\" rel=\"noopener noreferrer\">View Stored Document</a>})</p>\n//                                         <p><strong>Status:</strong> <span className={statusClass}>{doc.status?.toUpperCase() || 'N/A'}</span></p>\n//                                         <p><strong>Identified Type:</strong> {doc.identified_type || 'N/A'}</p>\n//                                         <p><strong>Message:</strong> {doc.message || 'N/A'}</p>\n//                                         {doc.extracted_fields && Object.keys(doc.extracted_fields).length > 0 && (\n//                                             <p><strong>Extracted Fields (Partial):</strong>\n//                                                 <pre className=\"extracted-fields-preview\">\n//                                                     {JSON.stringify(doc.extracted_fields, null, 2)}\n//                                                 </pre>\n//                                             </p>\n//                                         )}\n//                                         {doc.extracted_raw_text && (\n//                                             <p><strong>Extracted Raw Text Snippet:</strong> <pre className=\"extracted-raw-text-preview\">{doc.extracted_raw_text.substring(0, 200)}...</pre></p>\n//                                         )}\n//                                     </div>\n//                                 );\n//                             })}\n//                         </div>\n//                     )}\n\n//                     {/* Aggregated Financial Data */}\n//                     {selectedRecord.aggregated_financial_data && (\n//                         <div className=\"aggregated-financial-data-section section-box\">\n//                             <h4>Aggregated Financial Data</h4>\n//                             <div className=\"income-details-section\">\n//                                 <h5>Income Details</h5>\n//                                 <p><strong>Financial Year:</strong> {selectedRecord.aggregated_financial_data.financial_year || 'N/A'}</p>\n//                                 <p><strong>Assessment Year:</strong> {selectedRecord.aggregated_financial_data.assessment_year || 'N/A'}</p>\n//                                 <p><strong>Name:</strong> {selectedRecord.aggregated_financial_data.name || 'N/A'}</p>\n//                                 <p><strong>PAN:</strong> {selectedRecord.aggregated_financial_data.pan || 'N/A'}</p>\n//                                 <p><strong>Date of Birth:</strong> {selectedRecord.aggregated_financial_data.date_of_birth || 'N/A'}</p>\n//                                 <p><strong>Age:</strong> {selectedRecord.aggregated_financial_data.Age || 'N/A'}</p>\n//                                 <p><strong>Gross Annual Salary:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.total_gross_salary)}</p>\n//                                 <p><strong>Exempt Allowances:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.exempt_allowances)}</p>\n//                                 <p><strong>Income from House Property:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.income_from_house_property)}</p>\n//                                 <p><strong>Interest from Savings:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.other_income_interest_savings)}</p>\n//                                 <p><strong>Interest from FD:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.other_income_interest_fd)}</p>\n//                                 <p><strong>Dividend Income:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.other_income_dividend)}</p>\n//                                 <p><strong>Miscellaneous Income:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.other_income_misc)}</p>\n//                                 <p><strong>Long Term Capital Gains:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.capital_gains_long_term)}</p>\n//                                 <p><strong>Short Term Capital Gains:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.capital_gains_short_term)}</p>\n//                                 <p><strong>Total Gross Income (Aggregated):</strong> {formatCurrency(selectedRecord.aggregated_financial_data.total_gross_income)}</p>\n//                             </div>\n\n//                             <div className=\"deductions-section\">\n//                                 <h5>Deductions Claimed</h5>\n//                                 <p><strong>Standard Deduction:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.standard_deduction)}</p>\n//                                 <p><strong>Professional Tax:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.professional_tax)}</p>\n//                                 <p><strong>Interest on Home Loan (Section 24(b)):</strong> {formatCurrency(selectedRecord.aggregated_financial_data.interest_on_housing_loan_24b)}</p>\n//                                 <p><strong>Section 80C Investments:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.deduction_80C)}</p>\n//                                 <p><strong>Section 80CCD1B:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.deduction_80CCD1B)}</p>\n//                                 <p><strong>Section 80D (Health Insurance):</strong> {formatCurrency(selectedRecord.aggregated_financial_data.deduction_80D)}</p>\n//                                 <p><strong>Section 80G:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.deduction_80G)}</p>\n//                                 <p><strong>Section 80TTA:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.deduction_80TTA)}</p>\n//                                 <p><strong>Section 80TTB:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.deduction_80TTB)}</p>\n//                                 <p><strong>Section 80E (Education Loan Interest):</strong> {formatCurrency(selectedRecord.aggregated_financial_data.deduction_80E)}</p>\n//                                 <p><strong>Total Deductions (Aggregated):</strong> {formatCurrency(selectedRecord.aggregated_financial_data.total_deductions)}</p>\n//                             </div>\n\n//                             <div className=\"taxation-summary-section\">\n//                                 <h5>Tax Payments & Regime</h5>\n//                                 <p><strong>Total TDS Credit:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.total_tds)}</p>\n//                                 <p><strong>Advance Tax Paid:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.advance_tax)}</p>\n//                                 <p><strong>Self-Assessment Tax Paid:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.self_assessment_tax)}</p>\n//                                 <p><strong>Tax Regime Chosen (from docs):</strong> <span className=\"highlight-regime\">{selectedRecord.aggregated_financial_data.tax_regime_chosen || 'Not Specified'}</span></p>\n//                             </div>\n//                         </div>\n//                     )}\n\n//                     {/* Final Tax Computation Summary (Rule-Based) */}\n//                     {selectedRecord.final_tax_computation_summary && (\n//                         <div className=\"final-tax-computation-section section-box\">\n//                             <h4>Final Tax Computation Summary (Rule-Based)</h4>\n//                             <div className=\"computation-detail\">\n//                                 <p><strong>Calculated Gross Income:</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.calculated_gross_income)}</p>\n//                             </div>\n//                             <div className=\"computation-detail\">\n//                                 <p><strong>Calculated Total Deductions:</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.calculated_total_deductions)}</p>\n//                             </div>\n//                             <div className=\"computation-detail\">\n//                                 <p><strong>Computed Taxable Income:</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.computed_taxable_income)}</p>\n//                             </div>\n//                             <div className=\"computation-detail\">\n//                                 <p><strong>Estimated Tax Payable (Before TDS):</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.estimated_tax_payable)}</p>\n//                             </div>\n//                             <div className=\"computation-detail\">\n//                                 <p><strong>Total TDS Credit:</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.total_tds_credit)}</p>\n//                             </div>\n//                             <div className=\"computation-detail\">\n//                                 <p><strong>Tax Regime Considered for Rule-Based Calculation:</strong> <span className=\"highlight-regime\">{selectedRecord.final_tax_computation_summary.regime_considered || 'N/A'}</span></p>\n//                             </div>\n//                             <div className=\"final-amount-box\">\n//                                 {selectedRecord.final_tax_computation_summary.refund_due_from_tax > 0 && (\n//                                     <p className=\"refund-amount\">\n//                                         <strong>Refund Due from Tax:</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.refund_due_from_tax)}\n//                                     </p>\n//                                 )}\n//                                 {selectedRecord.final_tax_computation_summary.tax_due_to_government > 0 && (\n//                                     <p className=\"tax-due-amount\">\n//                                         <strong>Tax Due to Government:</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.tax_due_to_government)}\n//                                     </p>\n//                                 )}\n//                             </div>\n//                             {selectedRecord.final_tax_computation_summary.notes && (\n//                                 <p className=\"computation-notes\">\n//                                     <strong>Note:</strong> {selectedRecord.final_tax_computation_summary.notes}\n//                                 </p>\n//                             )}\n//                         </div>\n//                     )}\n\n//                     {/* AI Recommendations & Predictions */}\n//                     {selectedRecord.ml_prediction_summary || selectedRecord.suggestions_from_gemini?.length > 0 || selectedRecord.gemini_regime_analysis ? (\n//                         <div className=\"suggestions-output section-box\">\n//                             <h4>AI Recommendations & Predictions</h4>\n//                             {selectedRecord.suggestions_from_gemini && selectedRecord.suggestions_from_gemini.length > 0 ? (\n//                                 <>\n//                                     <h5>Based on Gemini AI:</h5>\n//                                     <ul className=\"suggestions-list\">\n//                                         {selectedRecord.suggestions_from_gemini.map((suggestion, index) => (\n//                                             <li key={index}>{suggestion}</li>\n//                                         ))}\n//                                     </ul>\n//                                 </>\n//                             ) : (\n//                                 <p>Gemini did not provide specific tax-saving suggestions for this record.</p>\n//                             )}\n\n//                             {selectedRecord.gemini_regime_analysis && (\n//                                 <div className=\"gemini-regime-analysis\">\n//                                     <h5>Gemini's Regime Analysis:</h5>\n//                                     <p>{selectedRecord.gemini_regime_analysis}</p>\n//                                 </div>\n//                             )}\n\n//                             {selectedRecord.ml_prediction_summary && (\n//                                 <>\n//                                     <h5>ML Model Prediction:</h5>\n//                                     {selectedRecord.ml_prediction_summary.predicted_tax_regime && (\n//                                         <p><strong>Predicted Tax Regime:</strong> {selectedRecord.ml_prediction_summary.predicted_tax_regime}</p>\n//                                     )}\n//                                     <p><strong>Predicted Tax Liability:</strong> {formatCurrency(selectedRecord.ml_prediction_summary.predicted_tax_liability)}</p>\n//                                     <p className=\"refund-amount\"><strong>Predicted Refund Due:</strong> {formatCurrency(selectedRecord.ml_prediction_summary.predicted_refund_due)}</p>\n//                                     <p className=\"tax-due-amount\"><strong>Predicted Additional Tax Due:</strong> {formatCurrency(selectedRecord.ml_prediction_summary.predicted_additional_due)}</p>\n//                                     {selectedRecord.ml_prediction_summary.notes && (\n//                                         <p><strong>Notes:</strong> {selectedRecord.ml_prediction_summary.notes}</p>\n//                                     )}\n//                                 </>\n//                             )}\n//                         </div>\n//                     ) : (\n//                         <div className=\"section-box\">\n//                             <p>No AI recommendations or ML predictions available for this record yet. These are generated when you click \"Get AI Suggestions & ML Predictions\" after uploading documents.</p>\n//                         </div>\n//                     )}\n\n//                 </div>\n//             )}\n//         </div>\n//     );\n// };\n\n// export default TaxHistory;\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport './index.css'; // Import TaxHistory specific CSS\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TaxHistory = () => {\n  _s();\n  var _selectedRecord$sugge;\n  const [history, setHistory] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [message, setMessage] = useState('');\n  const [messageType, setMessageType] = useState(''); // 'info', 'success', 'error'\n  const [selectedRecord, setSelectedRecord] = useState(null); // To view full details of a record\n  const [isGeneratingITR, setIsGeneratingITR] = useState(false);\n\n  // Helper function to safely format currency values\n  const formatCurrency = value => {\n    if (value === null || value === undefined || isNaN(parseFloat(value))) {\n      return 'N/A';\n    }\n    return parseFloat(value).toLocaleString('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    });\n  };\n  useEffect(() => {\n    const fetchHistory = async () => {\n      setLoading(true);\n      setMessage('Fetching your tax history...');\n      setMessageType('info');\n      const jwt_token = Cookies.get('jwt_token');\n      try {\n        const config = {\n          headers: {\n            'Authorization': `Bearer ${jwt_token}`\n          }\n        };\n        const response = await axios.get('http://127.0.0.1:5000/api/tax-records', config); // Correct route\n\n        if (response.data.status === 'success') {\n          // Ensure response.data.history is an array before setting the history state\n          if (Array.isArray(response.data.history)) {\n            setHistory(response.data.history);\n            setMessage('Tax history loaded successfully.');\n            setMessageType('success');\n          } else {\n            // Handle cases where history data is not an array\n            console.error('API returned non-array data for history property:', response.data.history);\n            setHistory([]); // Set to empty array to prevent errors\n            setMessage('Failed to load tax history: Unexpected data format.');\n            setMessageType('error');\n          }\n        } else {\n          // Handle cases where API status is not 'success'\n          setMessage(response.data.message || 'Failed to fetch tax history.');\n          setMessageType('error');\n          setHistory([]); // Clear history on error to prevent rendering issues\n        }\n      } catch (error) {\n        console.error('Fetch history error:', error);\n        if (error.response) {\n          if (error.response.status === 401) {\n            setMessage('Authentication required. Please log in.');\n          } else if (error.response.data && error.response.data.message) {\n            setMessage(`Error: ${error.response.data.message}`);\n          } else {\n            setMessage(`Server responded with status ${error.response.status}`);\n          }\n        } else {\n          setMessage('An error occurred while fetching tax history. Check network connection and backend server.');\n        }\n        setMessageType('error');\n        setHistory([]); // Clear history on network/server error as well\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchHistory();\n  }, []); // Empty dependency array means this runs once on mount\n\n  const handleViewDetails = record => {\n    setSelectedRecord(record);\n  };\n  const handleCloseDetails = () => {\n    setSelectedRecord(null);\n  };\n  const handleGenerateITRForm = async recordId => {\n    setIsGeneratingITR(true);\n    setMessage('Generating ITR form...');\n    setMessageType('info');\n    const jwt_token = Cookies.get('jwt_token');\n    try {\n      const config = {\n        headers: {\n          'Authorization': `Bearer ${jwt_token}`\n        },\n        responseType: 'blob' // Important for receiving a file\n      };\n      const response = await axios.get(`http://127.0.0.1:5000/api/generate-itr/${recordId}`, config); // Corrected route\n\n      if (response.status === 200) {\n        const blob = new Blob([response.data], {\n          type: 'application/pdf'\n        });\n        const downloadUrl = window.URL.createObjectURL(blob);\n        const contentDisposition = response.headers['content-disposition'];\n        let filename = `ITR_Form_${recordId}.pdf`; // Default filename\n\n        if (contentDisposition) {\n          const filenameMatch = contentDisposition.match(/filename=\"([^\"]+)\"/);\n          if (filenameMatch && filenameMatch[1]) {\n            filename = filenameMatch[1];\n          }\n        }\n        const link = document.createElement('a');\n        link.href = downloadUrl;\n        link.setAttribute('download', filename);\n        document.body.appendChild(link);\n        link.click();\n        link.remove();\n        window.URL.revokeObjectURL(downloadUrl);\n        setMessage('ITR form generated and downloaded successfully!');\n        setMessageType('success');\n      } else {\n        const errorData = await new Response(response.data).text(); // Read blob as text for error\n        setMessage(`Failed to generate ITR form: ${errorData || response.statusText}`);\n        setMessageType('error');\n      }\n    } catch (error) {\n      console.error('ITR generation error:', error);\n      if (axios.isAxiosError(error) && error.response && error.response.data) {\n        const reader = new FileReader();\n        reader.onload = () => {\n          try {\n            const errorJson = JSON.parse(reader.result);\n            setMessage(`Error generating ITR form: ${errorJson.message || JSON.stringify(errorJson)}`);\n          } catch (e) {\n            setMessage(`Error generating ITR form: ${reader.result || error.response.statusText}`);\n          }\n        };\n        reader.readAsText(error.response.data);\n      } else {\n        setMessage('Network error or server unavailable during ITR form generation.');\n      }\n      setMessageType('error');\n    } finally {\n      setIsGeneratingITR(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tax-history-container section-box\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"tax-history-title\",\n      children: \"Your Tax Filing History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 561,\n      columnNumber: 13\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tax-history-loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tax-history-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 565,\n        columnNumber: 21\n      }, this), message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 564,\n      columnNumber: 17\n    }, this), message && !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `tax-history-message ${messageType}`,\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 571,\n      columnNumber: 17\n    }, this), history.length === 0 && !loading && messageType !== 'error' && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"no-records-message\",\n      children: \"No tax records found. Upload documents to get started!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 17\n    }, this), !selectedRecord && history.length > 0 && !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"history-list\",\n      children: history.map(record => {\n        var _record$aggregated_fi, _record$aggregated_fi2, _record$aggregated_fi3, _record$final_tax_com, _record$final_tax_com2, _record$final_tax_com3;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"history-item section-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"history-item-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"Record ID: \", record._id.substring(0, 8), \"...\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 585,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"timestamp\",\n              children: new Date(record.timestamp).toLocaleString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 584,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"history-item-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Financial Year:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 591,\n                columnNumber: 36\n              }, this), \" \", ((_record$aggregated_fi = record.aggregated_financial_data) === null || _record$aggregated_fi === void 0 ? void 0 : _record$aggregated_fi.financial_year) || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 591,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Assessment Year:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 592,\n                columnNumber: 36\n              }, this), \" \", ((_record$aggregated_fi2 = record.aggregated_financial_data) === null || _record$aggregated_fi2 === void 0 ? void 0 : _record$aggregated_fi2.assessment_year) || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 593,\n                columnNumber: 36\n              }, this), \" \", ((_record$aggregated_fi3 = record.aggregated_financial_data) === null || _record$aggregated_fi3 === void 0 ? void 0 : _record$aggregated_fi3.name_of_employee) || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 593,\n              columnNumber: 33\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Estimated Tax Payable:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 594,\n                columnNumber: 36\n              }, this), \" \", formatCurrency((_record$final_tax_com = record.final_tax_computation_summary) === null || _record$final_tax_com === void 0 ? void 0 : _record$final_tax_com.estimated_tax_payable)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Refund Due:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 595,\n                columnNumber: 36\n              }, this), \" \", formatCurrency((_record$final_tax_com2 = record.final_tax_computation_summary) === null || _record$final_tax_com2 === void 0 ? void 0 : _record$final_tax_com2.predicted_refund_due)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 595,\n              columnNumber: 33\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Tax Due:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 596,\n                columnNumber: 36\n              }, this), \" \", formatCurrency((_record$final_tax_com3 = record.final_tax_computation_summary) === null || _record$final_tax_com3 === void 0 ? void 0 : _record$final_tax_com3.predicted_additional_due)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 33\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 590,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"history-item-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleViewDetails(record),\n              className: \"view-details-button\",\n              children: \"View Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 599,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleGenerateITRForm(record._id),\n              className: \"generate-itr-button\",\n              disabled: isGeneratingITR,\n              children: isGeneratingITR ? 'Generating...' : 'Generate ITR Form'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 602,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 29\n          }, this)]\n        }, record._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 581,\n      columnNumber: 17\n    }, this), selectedRecord && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"selected-record-details\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleCloseDetails,\n        className: \"back-button\",\n        children: \"\\u2190 Back to History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 617,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"selected-record-title\",\n        children: [\"Details for Record ID: \", selectedRecord._id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 21\n      }, this), selectedRecord.document_processing_summary && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"document-processing-summary-section section-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Document Processing Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 625,\n          columnNumber: 29\n        }, this), selectedRecord.document_processing_summary.map((doc, index) => {\n          var _doc$status;\n          const statusClass = doc.status === 'success' ? 'status-success' : doc.status === 'warning' ? 'status-warning' : 'status-error';\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"document-status-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"File:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 631,\n                columnNumber: 44\n              }, this), \" \", doc.filename, \" (\", doc.stored_path && /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `http://127.0.0.1:5000${doc.stored_path}`,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                children: \"View Stored Document\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 631,\n                columnNumber: 103\n              }, this), \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 631,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Status:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 632,\n                columnNumber: 44\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: statusClass,\n                children: ((_doc$status = doc.status) === null || _doc$status === void 0 ? void 0 : _doc$status.toUpperCase()) || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 632,\n                columnNumber: 69\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Identified Type:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 44\n              }, this), \" \", doc.identified_type || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 633,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Message:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 634,\n                columnNumber: 44\n              }, this), \" \", doc.message || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 41\n            }, this), doc.extracted_fields && Object.keys(doc.extracted_fields).length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Extracted Fields (Partial):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 48\n              }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n                className: \"extracted-fields-preview\",\n                children: JSON.stringify(doc.extracted_fields, null, 2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 637,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 45\n            }, this), doc.extracted_raw_text && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Extracted Raw Text Snippet:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 48\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"pre\", {\n                className: \"extracted-raw-text-preview\",\n                children: [doc.extracted_raw_text.substring(0, 200), \"...\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 93\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 643,\n              columnNumber: 45\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 630,\n            columnNumber: 37\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 624,\n        columnNumber: 25\n      }, this), selectedRecord.aggregated_financial_data && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"aggregated-financial-data-section section-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Aggregated Financial Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"income-details-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Income Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 656,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Financial Year:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 657,\n              columnNumber: 36\n            }, this), \" \", selectedRecord.aggregated_financial_data.financial_year || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 657,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Assessment Year:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 658,\n              columnNumber: 36\n            }, this), \" \", selectedRecord.aggregated_financial_data.assessment_year || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 659,\n              columnNumber: 36\n            }, this), \" \", selectedRecord.aggregated_financial_data.name_of_employee || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 659,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"PAN:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 660,\n              columnNumber: 36\n            }, this), \" \", selectedRecord.aggregated_financial_data.pan_of_employee || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 660,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Date of Birth:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 661,\n              columnNumber: 36\n            }, this), \" \", selectedRecord.aggregated_financial_data.date_of_birth || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 661,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Age:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 662,\n              columnNumber: 36\n            }, this), \" \", selectedRecord.aggregated_financial_data.Age || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 662,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Gross Annual Salary:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 663,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.aggregated_financial_data.gross_salary_total)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 663,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Exempt Allowances:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 664,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.aggregated_financial_data.total_exempt_allowances)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Income from House Property:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 665,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.aggregated_financial_data.income_from_house_property)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Income from Other Sources:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 671,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.aggregated_financial_data.income_from_other_sources)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 671,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Long Term Capital Gains:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 672,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.aggregated_financial_data.capital_gains_long_term)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Short Term Capital Gains:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 673,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.aggregated_financial_data.capital_gains_short_term)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 673,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-bold\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Total Gross Income (Aggregated):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 674,\n              columnNumber: 58\n            }, this), \" \", formatCurrency(selectedRecord.aggregated_financial_data.total_gross_income)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 674,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 655,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"deductions-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Deductions Claimed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 678,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Standard Deduction:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 679,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.aggregated_financial_data.standard_deduction)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Professional Tax:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.aggregated_financial_data.professional_tax)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 680,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Interest on Home Loan (Section 24(b)):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 681,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.aggregated_financial_data.interest_on_housing_loan_24b)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 681,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Section 80C Investments:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 682,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.aggregated_financial_data.deduction_80C)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 682,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Section 80CCD1B:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 683,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.aggregated_financial_data.deduction_80CCD1B)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 683,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Section 80D (Health Insurance):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 684,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.aggregated_financial_data.deduction_80D)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Section 80G:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 685,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.aggregated_financial_data.deduction_80G)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Section 80TTA:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 686,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.aggregated_financial_data.deduction_80TTA)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 686,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Section 80TTB:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 687,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.aggregated_financial_data.deduction_80TTB)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 687,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Section 80E (Education Loan Interest):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 688,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.aggregated_financial_data.deduction_80E)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 688,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-bold\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Total Deductions (Overall):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 58\n            }, this), \" \", formatCurrency(selectedRecord.aggregated_financial_data.total_deductions)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 689,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 677,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"taxation-summary-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Tax Payments & Regime\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Total TDS Credit:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 694,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.final_tax_computation_summary.total_tax_paid_credit)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 694,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Advance Tax Paid:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 695,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.aggregated_financial_data.advance_tax)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Self-Assessment Tax Paid:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 696,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.aggregated_financial_data.self_assessment_tax)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 696,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Tax Regime Chosen (from docs):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 36\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"highlight-regime\",\n              children: selectedRecord.aggregated_financial_data.tax_regime_chosen || 'Not Specified'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 84\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 697,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 692,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 25\n      }, this), selectedRecord.final_tax_computation_summary && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"final-tax-computation-section section-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Final Tax Computation Summary (Rule-Based)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 705,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"computation-detail\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Calculated Gross Income:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 707,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.final_tax_computation_summary.calculated_gross_income)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 707,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 706,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"computation-detail\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Calculated Total Deductions:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 710,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.final_tax_computation_summary.calculated_total_deductions)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 710,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 709,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"computation-detail\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Computed Taxable Income:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 713,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.final_tax_computation_summary.computed_taxable_income)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 713,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 712,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"computation-detail\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Estimated Tax Payable (Before Credits):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 716,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.final_tax_computation_summary.estimated_tax_payable)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 716,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 715,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"computation-detail\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Total Tax Paid Credit:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 719,\n              columnNumber: 36\n            }, this), \" \", formatCurrency(selectedRecord.final_tax_computation_summary.total_tax_paid_credit)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 719,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 718,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"computation-detail\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Tax Regime Considered for Rule-Based Calculation:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 722,\n              columnNumber: 36\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"highlight-regime\",\n              children: selectedRecord.final_tax_computation_summary.predicted_tax_regime || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 722,\n              columnNumber: 103\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 722,\n            columnNumber: 33\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 721,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"final-amount-box\",\n          children: [selectedRecord.final_tax_computation_summary.predicted_refund_due > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"refund-amount\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Refund Due:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 727,\n              columnNumber: 41\n            }, this), \" \", formatCurrency(selectedRecord.final_tax_computation_summary.predicted_refund_due)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 726,\n            columnNumber: 37\n          }, this), selectedRecord.final_tax_computation_summary.predicted_additional_due > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"tax-due-amount\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Additional Tax Due:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 732,\n              columnNumber: 41\n            }, this), \" \", formatCurrency(selectedRecord.final_tax_computation_summary.predicted_additional_due)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 731,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 724,\n          columnNumber: 29\n        }, this), selectedRecord.final_tax_computation_summary.notes && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"computation-notes\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Note:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 738,\n            columnNumber: 37\n          }, this), \" \", Array.isArray(selectedRecord.final_tax_computation_summary.notes) ? selectedRecord.final_tax_computation_summary.notes.join(', ') : selectedRecord.final_tax_computation_summary.notes]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 737,\n          columnNumber: 33\n        }, this), selectedRecord.final_tax_computation_summary.calculation_details && selectedRecord.final_tax_computation_summary.calculation_details.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detailed-calculation-section mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Detailed Calculation Steps:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 744,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-disc list-inside text-sm pl-4\",\n            children: selectedRecord.final_tax_computation_summary.calculation_details.map((detail, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"mb-1\",\n              children: detail\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 747,\n              columnNumber: 45\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 745,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 743,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 704,\n        columnNumber: 25\n      }, this), selectedRecord.ml_prediction_summary || ((_selectedRecord$sugge = selectedRecord.suggestions_from_gemini) === null || _selectedRecord$sugge === void 0 ? void 0 : _selectedRecord$sugge.length) > 0 || selectedRecord.gemini_regime_analysis ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"suggestions-output section-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"AI Recommendations & Predictions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 758,\n          columnNumber: 29\n        }, this), selectedRecord.suggestions_from_gemini && selectedRecord.suggestions_from_gemini.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Based on Gemini AI:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 761,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"suggestions-list\",\n            children: selectedRecord.suggestions_from_gemini.map((suggestion, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: suggestion\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 764,\n              columnNumber: 45\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 762,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Gemini did not provide specific tax-saving suggestions for this record.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 769,\n          columnNumber: 33\n        }, this), selectedRecord.gemini_regime_analysis && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gemini-regime-analysis\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Gemini's Regime Analysis:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 774,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: selectedRecord.gemini_regime_analysis\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 775,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 773,\n          columnNumber: 33\n        }, this), selectedRecord.ml_prediction_summary && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"ML Model Prediction:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 781,\n            columnNumber: 37\n          }, this), selectedRecord.ml_prediction_summary.predicted_tax_regime && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Predicted Tax Regime:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 783,\n              columnNumber: 44\n            }, this), \" \", selectedRecord.ml_prediction_summary.predicted_tax_regime]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 783,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Predicted Tax Liability:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 785,\n              columnNumber: 40\n            }, this), \" \", formatCurrency(selectedRecord.ml_prediction_summary.predicted_tax_liability)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 785,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"refund-amount\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Predicted Refund Due:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 786,\n              columnNumber: 66\n            }, this), \" \", formatCurrency(selectedRecord.ml_prediction_summary.predicted_refund_due)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 786,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"tax-due-amount\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Predicted Additional Tax Due:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 787,\n              columnNumber: 67\n            }, this), \" \", formatCurrency(selectedRecord.ml_prediction_summary.predicted_additional_due)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 787,\n            columnNumber: 37\n          }, this), selectedRecord.ml_prediction_summary.notes && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Notes:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 789,\n              columnNumber: 44\n            }, this), \" \", selectedRecord.ml_prediction_summary.notes]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 789,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 757,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-box\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No AI recommendations or ML predictions available for this record yet. These are generated when you click \\\"Get AI Suggestions & ML Predictions\\\" after uploading documents.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 796,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 795,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 616,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 560,\n    columnNumber: 9\n  }, this);\n};\n_s(TaxHistory, \"INSV3Qt1TL3OTAKOJg5gxBMuTVw=\");\n_c = TaxHistory;\nexport default TaxHistory;\nvar _c;\n$RefreshReg$(_c, \"TaxHistory\");","map":{"version":3,"names":["React","useState","useEffect","axios","Cookies","jsxDEV","_jsxDEV","Fragment","_Fragment","TaxHistory","_s","_selectedRecord$sugge","history","setHistory","loading","setLoading","message","setMessage","messageType","setMessageType","selectedRecord","setSelectedRecord","isGeneratingITR","setIsGeneratingITR","formatCurrency","value","undefined","isNaN","parseFloat","toLocaleString","style","currency","minimumFractionDigits","maximumFractionDigits","fetchHistory","jwt_token","get","config","headers","response","data","status","Array","isArray","console","error","handleViewDetails","record","handleCloseDetails","handleGenerateITRForm","recordId","responseType","blob","Blob","type","downloadUrl","window","URL","createObjectURL","contentDisposition","filename","filenameMatch","match","link","document","createElement","href","setAttribute","body","appendChild","click","remove","revokeObjectURL","errorData","Response","text","statusText","isAxiosError","reader","FileReader","onload","errorJson","JSON","parse","result","stringify","e","readAsText","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","_record$aggregated_fi","_record$aggregated_fi2","_record$aggregated_fi3","_record$final_tax_com","_record$final_tax_com2","_record$final_tax_com3","_id","substring","Date","timestamp","aggregated_financial_data","financial_year","assessment_year","name_of_employee","final_tax_computation_summary","estimated_tax_payable","predicted_refund_due","predicted_additional_due","onClick","disabled","document_processing_summary","doc","index","_doc$status","statusClass","stored_path","target","rel","toUpperCase","identified_type","extracted_fields","Object","keys","extracted_raw_text","pan_of_employee","date_of_birth","Age","gross_salary_total","total_exempt_allowances","income_from_house_property","income_from_other_sources","capital_gains_long_term","capital_gains_short_term","total_gross_income","standard_deduction","professional_tax","interest_on_housing_loan_24b","deduction_80C","deduction_80CCD1B","deduction_80D","deduction_80G","deduction_80TTA","deduction_80TTB","deduction_80E","total_deductions","total_tax_paid_credit","advance_tax","self_assessment_tax","tax_regime_chosen","calculated_gross_income","calculated_total_deductions","computed_taxable_income","predicted_tax_regime","notes","join","calculation_details","detail","ml_prediction_summary","suggestions_from_gemini","gemini_regime_analysis","suggestion","predicted_tax_liability","_c","$RefreshReg$"],"sources":["C:/Users/gumma/Downloads/All_Projects/GarudaTaxAi/src/components/TaxHistory/index.js"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\r\n// import axios from 'axios';\r\n// import Cookies from 'js-cookie';\r\n// import './index.css'; // Import TaxHistory specific CSS\r\n\r\n// const TaxHistory = () => {\r\n//     const [history, setHistory] = useState([]);\r\n//     const [loading, setLoading] = useState(true);\r\n//     const [message, setMessage] = useState('');\r\n//     const [messageType, setMessageType] = useState(''); // 'info', 'success', 'error'\r\n//     const [selectedRecord, setSelectedRecord] = useState(null); // To view full details of a record\r\n//     const [isGeneratingITR, setIsGeneratingITR] = useState(false);\r\n\r\n//     // Helper function to safely format currency values\r\n//     const formatCurrency = (value) => {\r\n//         if (value === null || value === undefined || isNaN(parseFloat(value))) {\r\n//             return 'N/A';\r\n//         }\r\n//         return parseFloat(value).toLocaleString('en-IN', {\r\n//             style: 'currency',\r\n//             currency: 'INR',\r\n//             minimumFractionDigits: 2,\r\n//             maximumFractionDigits: 2,\r\n//         });\r\n//     };\r\n\r\n//     useEffect(() => {\r\n//         const fetchHistory = async () => {\r\n//             setLoading(true);\r\n//             setMessage('Fetching your tax history...');\r\n//             setMessageType('info');\r\n//             const jwt_token = Cookies.get('jwt_token');\r\n\r\n//             try {\r\n//                 const config = {\r\n//                     headers: {\r\n//                         'Authorization': `Bearer ${jwt_token}`,\r\n//                     }\r\n//                 };\r\n//                 const response = await axios.get('http://127.0.0.1:5000/api/tax-records', config); // Correct route\r\n\r\n//                 if (response.data.status === 'success') {\r\n//                     // Ensure response.data.history is an array before setting the history state\r\n//                     if (Array.isArray(response.data.history)) {\r\n//                         setHistory(response.data.history);\r\n//                         setMessage('Tax history loaded successfully.');\r\n//                         setMessageType('success');\r\n//                     } else {\r\n//                         // Handle cases where history data is not an array\r\n//                         console.error('API returned non-array data for history property:', response.data.history);\r\n//                         setHistory([]); // Set to empty array to prevent errors\r\n//                         setMessage('Failed to load tax history: Unexpected data format.');\r\n//                         setMessageType('error');\r\n//                     }\r\n//                 } else {\r\n//                     // Handle cases where API status is not 'success'\r\n//                     setMessage(response.data.message || 'Failed to fetch tax history.');\r\n//                     setMessageType('error');\r\n//                     setHistory([]); // Clear history on error to prevent rendering issues\r\n//                 }\r\n//             } catch (error) {\r\n//                 console.error('Fetch history error:', error);\r\n//                 if (error.response) {\r\n//                     if (error.response.status === 401) {\r\n//                         setMessage('Authentication required. Please log in.');\r\n//                     } else if (error.response.data && error.response.data.message) {\r\n//                         setMessage(`Error: ${error.response.data.message}`);\r\n//                     } else {\r\n//                         setMessage(`Server responded with status ${error.response.status}`);\r\n//                     }\r\n//                 } else {\r\n//                     setMessage('An error occurred while fetching tax history. Check network connection and backend server.');\r\n//                 }\r\n//                 setMessageType('error');\r\n//                 setHistory([]); // Clear history on network/server error as well\r\n//             } finally {\r\n//                 setLoading(false);\r\n//             }\r\n//         };\r\n\r\n//         fetchHistory();\r\n//     }, []); // Empty dependency array means this runs once on mount\r\n\r\n//     const handleViewDetails = (record) => {\r\n//         setSelectedRecord(record);\r\n//     };\r\n\r\n//     const handleCloseDetails = () => {\r\n//         setSelectedRecord(null);\r\n//     };\r\n\r\n//     const handleGenerateITRForm = async (recordId) => {\r\n//         setIsGeneratingITR(true);\r\n//         setMessage('Generating ITR form...');\r\n//         setMessageType('info');\r\n\r\n//         const jwt_token = Cookies.get('jwt_token');\r\n\r\n//         try {\r\n//             const config = {\r\n//                 headers: {\r\n//                     'Authorization': `Bearer ${jwt_token}`,\r\n//                 },\r\n//                 responseType: 'blob', // Important for receiving a file\r\n//             };\r\n            \r\n//             const response = await axios.get(`http://127.0.0.1:5000/api/generate_itr_form/${recordId}`, config);\r\n\r\n//             if (response.status === 200) {\r\n//                 const blob = new Blob([response.data], { type: 'application/pdf' });\r\n//                 const downloadUrl = window.URL.createObjectURL(blob);\r\n//                 const contentDisposition = response.headers['content-disposition'];\r\n//                 let filename = `ITR_Form_${recordId}.pdf`; // Default filename\r\n\r\n//                 if (contentDisposition) {\r\n//                     const filenameMatch = contentDisposition.match(/filename=\"([^\"]+)\"/);\r\n//                     if (filenameMatch && filenameMatch[1]) {\r\n//                         filename = filenameMatch[1];\r\n//                     }\r\n//                 }\r\n                \r\n//                 const link = document.createElement('a');\r\n//                 link.href = downloadUrl;\r\n//                 link.setAttribute('download', filename);\r\n//                 document.body.appendChild(link);\r\n//                 link.click();\r\n//                 link.remove();\r\n//                 window.URL.revokeObjectURL(downloadUrl);\r\n\r\n//                 setMessage('ITR form generated and downloaded successfully!');\r\n//                 setMessageType('success');\r\n//             } else {\r\n//                 const errorData = await new Response(response.data).text(); // Read blob as text for error\r\n//                 setMessage(`Failed to generate ITR form: ${errorData || response.statusText}`);\r\n//                 setMessageType('error');\r\n//             }\r\n//         } catch (error) {\r\n//             console.error('ITR generation error:', error);\r\n//             if (axios.isAxiosError(error) && error.response && error.response.data) {\r\n//                 const reader = new FileReader();\r\n//                 reader.onload = () => {\r\n//                     try {\r\n//                         const errorJson = JSON.parse(reader.result);\r\n//                         setMessage(`Error generating ITR form: ${errorJson.message || JSON.stringify(errorJson)}`);\r\n//                     } catch (e) {\r\n//                         setMessage(`Error generating ITR form: ${reader.result || error.response.statusText}`);\r\n//                     }\r\n//                 };\r\n//                 reader.readAsText(error.response.data);\r\n//             } else {\r\n//                 setMessage('Network error or server unavailable during ITR form generation.');\r\n//             }\r\n//             setMessageType('error');\r\n//         } finally {\r\n//             setIsGeneratingITR(false);\r\n//         }\r\n//     };\r\n\r\n\r\n//     return (\r\n//         <div className=\"tax-history-container section-box\">\r\n//             <h2 className=\"tax-history-title\">Your Tax Filing History</h2>\r\n\r\n//             {loading && (\r\n//                 <div className=\"tax-history-loading\">\r\n//                     <div className=\"tax-history-spinner\"></div>\r\n//                     {message}\r\n//                 </div>\r\n//             )}\r\n\r\n//             {message && !loading && (\r\n//                 <div className={`tax-history-message ${messageType}`}>\r\n//                     {message}\r\n//                 </div>\r\n//             )}\r\n\r\n//             {history.length === 0 && !loading && messageType !== 'error' && (\r\n//                 <p className=\"no-records-message\">No tax records found. Upload documents to get started!</p>\r\n//             )}\r\n\r\n//             {!selectedRecord && history.length > 0 && !loading && (\r\n//                 <div className=\"history-list\">\r\n//                     {history.map((record) => (\r\n//                         <div key={record._id} className=\"history-item section-box\">\r\n//                             <div className=\"history-item-header\">\r\n//                                 <h3>Record ID: {record._id.substring(0, 8)}...</h3>\r\n//                                 <span className=\"timestamp\">\r\n//                                     {new Date(record.timestamp).toLocaleString()}\r\n//                                 </span>\r\n//                             </div>\r\n//                             <div className=\"history-item-details\">\r\n//                                 <p><strong>Financial Year:</strong> {record.aggregated_financial_data?.financial_year || 'N/A'}</p>\r\n//                                 <p><strong>Assessment Year:</strong> {record.aggregated_financial_data?.assessment_year || 'N/A'}</p>\r\n//                                 <p><strong>Name:</strong> {record.aggregated_financial_data?.name || 'N/A'}</p>\r\n//                                 <p><strong>Estimated Tax Payable:</strong> {formatCurrency(record.final_tax_computation_summary?.estimated_tax_payable)}</p>\r\n//                                 <p><strong>Refund Due:</strong> {formatCurrency(record.final_tax_computation_summary?.refund_due_from_tax)}</p>\r\n//                                 <p><strong>Tax Due:</strong> {formatCurrency(record.final_tax_computation_summary?.tax_due_to_government)}</p>\r\n//                             </div>\r\n//                             <div className=\"history-item-actions\">\r\n//                                 <button onClick={() => handleViewDetails(record)} className=\"view-details-button\">\r\n//                                     View Details\r\n//                                 </button>\r\n//                                 <button\r\n//                                     onClick={() => handleGenerateITRForm(record._id)}\r\n//                                     className=\"generate-itr-button\"\r\n//                                     disabled={isGeneratingITR}\r\n//                                 >\r\n//                                     {isGeneratingITR ? 'Generating...' : 'Generate ITR Form'}\r\n//                                 </button>\r\n//                             </div>\r\n//                         </div>\r\n//                     ))}\r\n//                 </div>\r\n//             )}\r\n\r\n//             {selectedRecord && (\r\n//                 <div className=\"selected-record-details\">\r\n//                     <button onClick={handleCloseDetails} className=\"back-button\">\r\n//                         &larr; Back to History\r\n//                     </button>\r\n//                     <h3 className=\"selected-record-title\">Details for Record ID: {selectedRecord._id}</h3>\r\n\r\n//                     {/* Document Processing Summary */}\r\n//                     {selectedRecord.document_processing_summary && (\r\n//                         <div className=\"document-processing-summary-section section-box\">\r\n//                             <h4>Document Processing Summary</h4>\r\n//                             {selectedRecord.document_processing_summary.map((doc, index) => {\r\n//                                 const statusClass = doc.status === 'success' ? 'status-success' :\r\n//                                                     doc.status === 'warning' ? 'status-warning' : 'status-error';\r\n//                                 return (\r\n//                                     <div key={index} className=\"document-status-item\">\r\n//                                         <p><strong>File:</strong> {doc.filename} ({doc.stored_path && <a href={`http://127.0.0.1:5000${doc.stored_path}`} target=\"_blank\" rel=\"noopener noreferrer\">View Stored Document</a>})</p>\r\n//                                         <p><strong>Status:</strong> <span className={statusClass}>{doc.status?.toUpperCase() || 'N/A'}</span></p>\r\n//                                         <p><strong>Identified Type:</strong> {doc.identified_type || 'N/A'}</p>\r\n//                                         <p><strong>Message:</strong> {doc.message || 'N/A'}</p>\r\n//                                         {doc.extracted_fields && Object.keys(doc.extracted_fields).length > 0 && (\r\n//                                             <p><strong>Extracted Fields (Partial):</strong>\r\n//                                                 <pre className=\"extracted-fields-preview\">\r\n//                                                     {JSON.stringify(doc.extracted_fields, null, 2)}\r\n//                                                 </pre>\r\n//                                             </p>\r\n//                                         )}\r\n//                                         {doc.extracted_raw_text && (\r\n//                                             <p><strong>Extracted Raw Text Snippet:</strong> <pre className=\"extracted-raw-text-preview\">{doc.extracted_raw_text.substring(0, 200)}...</pre></p>\r\n//                                         )}\r\n//                                     </div>\r\n//                                 );\r\n//                             })}\r\n//                         </div>\r\n//                     )}\r\n\r\n//                     {/* Aggregated Financial Data */}\r\n//                     {selectedRecord.aggregated_financial_data && (\r\n//                         <div className=\"aggregated-financial-data-section section-box\">\r\n//                             <h4>Aggregated Financial Data</h4>\r\n//                             <div className=\"income-details-section\">\r\n//                                 <h5>Income Details</h5>\r\n//                                 <p><strong>Financial Year:</strong> {selectedRecord.aggregated_financial_data.financial_year || 'N/A'}</p>\r\n//                                 <p><strong>Assessment Year:</strong> {selectedRecord.aggregated_financial_data.assessment_year || 'N/A'}</p>\r\n//                                 <p><strong>Name:</strong> {selectedRecord.aggregated_financial_data.name || 'N/A'}</p>\r\n//                                 <p><strong>PAN:</strong> {selectedRecord.aggregated_financial_data.pan || 'N/A'}</p>\r\n//                                 <p><strong>Date of Birth:</strong> {selectedRecord.aggregated_financial_data.date_of_birth || 'N/A'}</p>\r\n//                                 <p><strong>Age:</strong> {selectedRecord.aggregated_financial_data.Age || 'N/A'}</p>\r\n//                                 <p><strong>Gross Annual Salary:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.total_gross_salary)}</p>\r\n//                                 <p><strong>Exempt Allowances:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.exempt_allowances)}</p>\r\n//                                 <p><strong>Income from House Property:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.income_from_house_property)}</p>\r\n//                                 <p><strong>Interest from Savings:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.other_income_interest_savings)}</p>\r\n//                                 <p><strong>Interest from FD:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.other_income_interest_fd)}</p>\r\n//                                 <p><strong>Dividend Income:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.other_income_dividend)}</p>\r\n//                                 <p><strong>Miscellaneous Income:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.other_income_misc)}</p>\r\n//                                 <p><strong>Long Term Capital Gains:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.capital_gains_long_term)}</p>\r\n//                                 <p><strong>Short Term Capital Gains:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.capital_gains_short_term)}</p>\r\n//                                 <p><strong>Total Gross Income (Aggregated):</strong> {formatCurrency(selectedRecord.aggregated_financial_data.total_gross_income)}</p>\r\n//                             </div>\r\n\r\n//                             <div className=\"deductions-section\">\r\n//                                 <h5>Deductions Claimed</h5>\r\n//                                 <p><strong>Standard Deduction:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.standard_deduction)}</p>\r\n//                                 <p><strong>Professional Tax:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.professional_tax)}</p>\r\n//                                 <p><strong>Interest on Home Loan (Section 24(b)):</strong> {formatCurrency(selectedRecord.aggregated_financial_data.interest_on_housing_loan_24b)}</p>\r\n//                                 <p><strong>Section 80C Investments:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.deduction_80C)}</p>\r\n//                                 <p><strong>Section 80CCD1B:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.deduction_80CCD1B)}</p>\r\n//                                 <p><strong>Section 80D (Health Insurance):</strong> {formatCurrency(selectedRecord.aggregated_financial_data.deduction_80D)}</p>\r\n//                                 <p><strong>Section 80G:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.deduction_80G)}</p>\r\n//                                 <p><strong>Section 80TTA:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.deduction_80TTA)}</p>\r\n//                                 <p><strong>Section 80TTB:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.deduction_80TTB)}</p>\r\n//                                 <p><strong>Section 80E (Education Loan Interest):</strong> {formatCurrency(selectedRecord.aggregated_financial_data.deduction_80E)}</p>\r\n//                                 <p><strong>Total Deductions (Aggregated):</strong> {formatCurrency(selectedRecord.aggregated_financial_data.total_deductions)}</p>\r\n//                             </div>\r\n\r\n//                             <div className=\"taxation-summary-section\">\r\n//                                 <h5>Tax Payments & Regime</h5>\r\n//                                 <p><strong>Total TDS Credit:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.total_tds)}</p>\r\n//                                 <p><strong>Advance Tax Paid:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.advance_tax)}</p>\r\n//                                 <p><strong>Self-Assessment Tax Paid:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.self_assessment_tax)}</p>\r\n//                                 <p><strong>Tax Regime Chosen (from docs):</strong> <span className=\"highlight-regime\">{selectedRecord.aggregated_financial_data.tax_regime_chosen || 'Not Specified'}</span></p>\r\n//                             </div>\r\n//                         </div>\r\n//                     )}\r\n\r\n//                     {/* Final Tax Computation Summary (Rule-Based) */}\r\n//                     {selectedRecord.final_tax_computation_summary && (\r\n//                         <div className=\"final-tax-computation-section section-box\">\r\n//                             <h4>Final Tax Computation Summary (Rule-Based)</h4>\r\n//                             <div className=\"computation-detail\">\r\n//                                 <p><strong>Calculated Gross Income:</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.calculated_gross_income)}</p>\r\n//                             </div>\r\n//                             <div className=\"computation-detail\">\r\n//                                 <p><strong>Calculated Total Deductions:</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.calculated_total_deductions)}</p>\r\n//                             </div>\r\n//                             <div className=\"computation-detail\">\r\n//                                 <p><strong>Computed Taxable Income:</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.computed_taxable_income)}</p>\r\n//                             </div>\r\n//                             <div className=\"computation-detail\">\r\n//                                 <p><strong>Estimated Tax Payable (Before TDS):</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.estimated_tax_payable)}</p>\r\n//                             </div>\r\n//                             <div className=\"computation-detail\">\r\n//                                 <p><strong>Total TDS Credit:</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.total_tds_credit)}</p>\r\n//                             </div>\r\n//                             <div className=\"computation-detail\">\r\n//                                 <p><strong>Tax Regime Considered for Rule-Based Calculation:</strong> <span className=\"highlight-regime\">{selectedRecord.final_tax_computation_summary.regime_considered || 'N/A'}</span></p>\r\n//                             </div>\r\n//                             <div className=\"final-amount-box\">\r\n//                                 {selectedRecord.final_tax_computation_summary.refund_due_from_tax > 0 && (\r\n//                                     <p className=\"refund-amount\">\r\n//                                         <strong>Refund Due from Tax:</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.refund_due_from_tax)}\r\n//                                     </p>\r\n//                                 )}\r\n//                                 {selectedRecord.final_tax_computation_summary.tax_due_to_government > 0 && (\r\n//                                     <p className=\"tax-due-amount\">\r\n//                                         <strong>Tax Due to Government:</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.tax_due_to_government)}\r\n//                                     </p>\r\n//                                 )}\r\n//                             </div>\r\n//                             {selectedRecord.final_tax_computation_summary.notes && (\r\n//                                 <p className=\"computation-notes\">\r\n//                                     <strong>Note:</strong> {selectedRecord.final_tax_computation_summary.notes}\r\n//                                 </p>\r\n//                             )}\r\n//                         </div>\r\n//                     )}\r\n\r\n//                     {/* AI Recommendations & Predictions */}\r\n//                     {selectedRecord.ml_prediction_summary || selectedRecord.suggestions_from_gemini?.length > 0 || selectedRecord.gemini_regime_analysis ? (\r\n//                         <div className=\"suggestions-output section-box\">\r\n//                             <h4>AI Recommendations & Predictions</h4>\r\n//                             {selectedRecord.suggestions_from_gemini && selectedRecord.suggestions_from_gemini.length > 0 ? (\r\n//                                 <>\r\n//                                     <h5>Based on Gemini AI:</h5>\r\n//                                     <ul className=\"suggestions-list\">\r\n//                                         {selectedRecord.suggestions_from_gemini.map((suggestion, index) => (\r\n//                                             <li key={index}>{suggestion}</li>\r\n//                                         ))}\r\n//                                     </ul>\r\n//                                 </>\r\n//                             ) : (\r\n//                                 <p>Gemini did not provide specific tax-saving suggestions for this record.</p>\r\n//                             )}\r\n\r\n//                             {selectedRecord.gemini_regime_analysis && (\r\n//                                 <div className=\"gemini-regime-analysis\">\r\n//                                     <h5>Gemini's Regime Analysis:</h5>\r\n//                                     <p>{selectedRecord.gemini_regime_analysis}</p>\r\n//                                 </div>\r\n//                             )}\r\n\r\n//                             {selectedRecord.ml_prediction_summary && (\r\n//                                 <>\r\n//                                     <h5>ML Model Prediction:</h5>\r\n//                                     {selectedRecord.ml_prediction_summary.predicted_tax_regime && (\r\n//                                         <p><strong>Predicted Tax Regime:</strong> {selectedRecord.ml_prediction_summary.predicted_tax_regime}</p>\r\n//                                     )}\r\n//                                     <p><strong>Predicted Tax Liability:</strong> {formatCurrency(selectedRecord.ml_prediction_summary.predicted_tax_liability)}</p>\r\n//                                     <p className=\"refund-amount\"><strong>Predicted Refund Due:</strong> {formatCurrency(selectedRecord.ml_prediction_summary.predicted_refund_due)}</p>\r\n//                                     <p className=\"tax-due-amount\"><strong>Predicted Additional Tax Due:</strong> {formatCurrency(selectedRecord.ml_prediction_summary.predicted_additional_due)}</p>\r\n//                                     {selectedRecord.ml_prediction_summary.notes && (\r\n//                                         <p><strong>Notes:</strong> {selectedRecord.ml_prediction_summary.notes}</p>\r\n//                                     )}\r\n//                                 </>\r\n//                             )}\r\n//                         </div>\r\n//                     ) : (\r\n//                         <div className=\"section-box\">\r\n//                             <p>No AI recommendations or ML predictions available for this record yet. These are generated when you click \"Get AI Suggestions & ML Predictions\" after uploading documents.</p>\r\n//                         </div>\r\n//                     )}\r\n\r\n//                 </div>\r\n//             )}\r\n//         </div>\r\n//     );\r\n// };\r\n\r\n// export default TaxHistory;\r\n\r\n\r\n\r\n\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Cookies from 'js-cookie';\r\nimport './index.css'; // Import TaxHistory specific CSS\r\n\r\nconst TaxHistory = () => {\r\n    const [history, setHistory] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [message, setMessage] = useState('');\r\n    const [messageType, setMessageType] = useState(''); // 'info', 'success', 'error'\r\n    const [selectedRecord, setSelectedRecord] = useState(null); // To view full details of a record\r\n    const [isGeneratingITR, setIsGeneratingITR] = useState(false);\r\n\r\n    // Helper function to safely format currency values\r\n    const formatCurrency = (value) => {\r\n        if (value === null || value === undefined || isNaN(parseFloat(value))) {\r\n            return 'N/A';\r\n        }\r\n        return parseFloat(value).toLocaleString('en-IN', {\r\n            style: 'currency',\r\n            currency: 'INR',\r\n            minimumFractionDigits: 2,\r\n            maximumFractionDigits: 2,\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchHistory = async () => {\r\n            setLoading(true);\r\n            setMessage('Fetching your tax history...');\r\n            setMessageType('info');\r\n            const jwt_token = Cookies.get('jwt_token');\r\n\r\n            try {\r\n                const config = {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${jwt_token}`,\r\n                    }\r\n                };\r\n                const response = await axios.get('http://127.0.0.1:5000/api/tax-records', config); // Correct route\r\n\r\n                if (response.data.status === 'success') {\r\n                    // Ensure response.data.history is an array before setting the history state\r\n                    if (Array.isArray(response.data.history)) {\r\n                        setHistory(response.data.history);\r\n                        setMessage('Tax history loaded successfully.');\r\n                        setMessageType('success');\r\n                    } else {\r\n                        // Handle cases where history data is not an array\r\n                        console.error('API returned non-array data for history property:', response.data.history);\r\n                        setHistory([]); // Set to empty array to prevent errors\r\n                        setMessage('Failed to load tax history: Unexpected data format.');\r\n                        setMessageType('error');\r\n                    }\r\n                } else {\r\n                    // Handle cases where API status is not 'success'\r\n                    setMessage(response.data.message || 'Failed to fetch tax history.');\r\n                    setMessageType('error');\r\n                    setHistory([]); // Clear history on error to prevent rendering issues\r\n                }\r\n            } catch (error) {\r\n                console.error('Fetch history error:', error);\r\n                if (error.response) {\r\n                    if (error.response.status === 401) {\r\n                        setMessage('Authentication required. Please log in.');\r\n                    } else if (error.response.data && error.response.data.message) {\r\n                        setMessage(`Error: ${error.response.data.message}`);\r\n                    } else {\r\n                        setMessage(`Server responded with status ${error.response.status}`);\r\n                    }\r\n                } else {\r\n                    setMessage('An error occurred while fetching tax history. Check network connection and backend server.');\r\n                }\r\n                setMessageType('error');\r\n                setHistory([]); // Clear history on network/server error as well\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchHistory();\r\n    }, []); // Empty dependency array means this runs once on mount\r\n\r\n    const handleViewDetails = (record) => {\r\n        setSelectedRecord(record);\r\n    };\r\n\r\n    const handleCloseDetails = () => {\r\n        setSelectedRecord(null);\r\n    };\r\n\r\n    const handleGenerateITRForm = async (recordId) => {\r\n        setIsGeneratingITR(true);\r\n        setMessage('Generating ITR form...');\r\n        setMessageType('info');\r\n\r\n        const jwt_token = Cookies.get('jwt_token');\r\n\r\n        try {\r\n            const config = {\r\n                headers: {\r\n                    'Authorization': `Bearer ${jwt_token}`,\r\n                },\r\n                responseType: 'blob', // Important for receiving a file\r\n            };\r\n            \r\n            const response = await axios.get(`http://127.0.0.1:5000/api/generate-itr/${recordId}`, config); // Corrected route\r\n\r\n            if (response.status === 200) {\r\n                const blob = new Blob([response.data], { type: 'application/pdf' });\r\n                const downloadUrl = window.URL.createObjectURL(blob);\r\n                const contentDisposition = response.headers['content-disposition'];\r\n                let filename = `ITR_Form_${recordId}.pdf`; // Default filename\r\n\r\n                if (contentDisposition) {\r\n                    const filenameMatch = contentDisposition.match(/filename=\"([^\"]+)\"/);\r\n                    if (filenameMatch && filenameMatch[1]) {\r\n                        filename = filenameMatch[1];\r\n                    }\r\n                }\r\n                \r\n                const link = document.createElement('a');\r\n                link.href = downloadUrl;\r\n                link.setAttribute('download', filename);\r\n                document.body.appendChild(link);\r\n                link.click();\r\n                link.remove();\r\n                window.URL.revokeObjectURL(downloadUrl);\r\n\r\n                setMessage('ITR form generated and downloaded successfully!');\r\n                setMessageType('success');\r\n            } else {\r\n                const errorData = await new Response(response.data).text(); // Read blob as text for error\r\n                setMessage(`Failed to generate ITR form: ${errorData || response.statusText}`);\r\n                setMessageType('error');\r\n            }\r\n        } catch (error) {\r\n            console.error('ITR generation error:', error);\r\n            if (axios.isAxiosError(error) && error.response && error.response.data) {\r\n                const reader = new FileReader();\r\n                reader.onload = () => {\r\n                    try {\r\n                        const errorJson = JSON.parse(reader.result);\r\n                        setMessage(`Error generating ITR form: ${errorJson.message || JSON.stringify(errorJson)}`);\r\n                    } catch (e) {\r\n                        setMessage(`Error generating ITR form: ${reader.result || error.response.statusText}`);\r\n                    }\r\n                };\r\n                reader.readAsText(error.response.data);\r\n            } else {\r\n                setMessage('Network error or server unavailable during ITR form generation.');\r\n            }\r\n            setMessageType('error');\r\n        } finally {\r\n            setIsGeneratingITR(false);\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"tax-history-container section-box\">\r\n            <h2 className=\"tax-history-title\">Your Tax Filing History</h2>\r\n\r\n            {loading && (\r\n                <div className=\"tax-history-loading\">\r\n                    <div className=\"tax-history-spinner\"></div>\r\n                    {message}\r\n                </div>\r\n            )}\r\n\r\n            {message && !loading && (\r\n                <div className={`tax-history-message ${messageType}`}>\r\n                    {message}\r\n                </div>\r\n            )}\r\n\r\n            {history.length === 0 && !loading && messageType !== 'error' && (\r\n                <p className=\"no-records-message\">No tax records found. Upload documents to get started!</p>\r\n            )}\r\n\r\n            {!selectedRecord && history.length > 0 && !loading && (\r\n                <div className=\"history-list\">\r\n                    {history.map((record) => (\r\n                        <div key={record._id} className=\"history-item section-box\">\r\n                            <div className=\"history-item-header\">\r\n                                <h3>Record ID: {record._id.substring(0, 8)}...</h3>\r\n                                <span className=\"timestamp\">\r\n                                    {new Date(record.timestamp).toLocaleString()}\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"history-item-details\">\r\n                                <p><strong>Financial Year:</strong> {record.aggregated_financial_data?.financial_year || 'N/A'}</p>\r\n                                <p><strong>Assessment Year:</strong> {record.aggregated_financial_data?.assessment_year || 'N/A'}</p>\r\n                                <p><strong>Name:</strong> {record.aggregated_financial_data?.name_of_employee || 'N/A'}</p> {/* Corrected property name */}\r\n                                <p><strong>Estimated Tax Payable:</strong> {formatCurrency(record.final_tax_computation_summary?.estimated_tax_payable)}</p>\r\n                                <p><strong>Refund Due:</strong> {formatCurrency(record.final_tax_computation_summary?.predicted_refund_due)}</p> {/* Corrected property name */}\r\n                                <p><strong>Tax Due:</strong> {formatCurrency(record.final_tax_computation_summary?.predicted_additional_due)}</p> {/* Corrected property name */}\r\n                            </div>\r\n                            <div className=\"history-item-actions\">\r\n                                <button onClick={() => handleViewDetails(record)} className=\"view-details-button\">\r\n                                    View Details\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => handleGenerateITRForm(record._id)}\r\n                                    className=\"generate-itr-button\"\r\n                                    disabled={isGeneratingITR}\r\n                                >\r\n                                    {isGeneratingITR ? 'Generating...' : 'Generate ITR Form'}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n            {selectedRecord && (\r\n                <div className=\"selected-record-details\">\r\n                    <button onClick={handleCloseDetails} className=\"back-button\">\r\n                        &larr; Back to History\r\n                    </button>\r\n                    <h3 className=\"selected-record-title\">Details for Record ID: {selectedRecord._id}</h3>\r\n\r\n                    {/* Document Processing Summary */}\r\n                    {selectedRecord.document_processing_summary && (\r\n                        <div className=\"document-processing-summary-section section-box\">\r\n                            <h4>Document Processing Summary</h4>\r\n                            {selectedRecord.document_processing_summary.map((doc, index) => {\r\n                                const statusClass = doc.status === 'success' ? 'status-success' :\r\n                                                     doc.status === 'warning' ? 'status-warning' : 'status-error';\r\n                                return (\r\n                                    <div key={index} className=\"document-status-item\">\r\n                                        <p><strong>File:</strong> {doc.filename} ({doc.stored_path && <a href={`http://127.0.0.1:5000${doc.stored_path}`} target=\"_blank\" rel=\"noopener noreferrer\">View Stored Document</a>})</p>\r\n                                        <p><strong>Status:</strong> <span className={statusClass}>{doc.status?.toUpperCase() || 'N/A'}</span></p>\r\n                                        <p><strong>Identified Type:</strong> {doc.identified_type || 'N/A'}</p>\r\n                                        <p><strong>Message:</strong> {doc.message || 'N/A'}</p>\r\n                                        {doc.extracted_fields && Object.keys(doc.extracted_fields).length > 0 && (\r\n                                            <p><strong>Extracted Fields (Partial):</strong>\r\n                                                <pre className=\"extracted-fields-preview\">\r\n                                                    {JSON.stringify(doc.extracted_fields, null, 2)}\r\n                                                </pre>\r\n                                            </p>\r\n                                        )}\r\n                                        {doc.extracted_raw_text && (\r\n                                            <p><strong>Extracted Raw Text Snippet:</strong> <pre className=\"extracted-raw-text-preview\">{doc.extracted_raw_text.substring(0, 200)}...</pre></p>\r\n                                        )}\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Aggregated Financial Data */}\r\n                    {selectedRecord.aggregated_financial_data && (\r\n                        <div className=\"aggregated-financial-data-section section-box\">\r\n                            <h4>Aggregated Financial Data</h4>\r\n                            <div className=\"income-details-section\">\r\n                                <h5>Income Details</h5>\r\n                                <p><strong>Financial Year:</strong> {selectedRecord.aggregated_financial_data.financial_year || 'N/A'}</p>\r\n                                <p><strong>Assessment Year:</strong> {selectedRecord.aggregated_financial_data.assessment_year || 'N/A'}</p>\r\n                                <p><strong>Name:</strong> {selectedRecord.aggregated_financial_data.name_of_employee || 'N/A'}</p>\r\n                                <p><strong>PAN:</strong> {selectedRecord.aggregated_financial_data.pan_of_employee || 'N/A'}</p>\r\n                                <p><strong>Date of Birth:</strong> {selectedRecord.aggregated_financial_data.date_of_birth || 'N/A'}</p>\r\n                                <p><strong>Age:</strong> {selectedRecord.aggregated_financial_data.Age || 'N/A'}</p>\r\n                                <p><strong>Gross Annual Salary:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.gross_salary_total)}</p>\r\n                                <p><strong>Exempt Allowances:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.total_exempt_allowances)}</p>\r\n                                <p><strong>Income from House Property:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.income_from_house_property)}</p>\r\n                                {/* Removed these as backend aggregates to income_from_other_sources */}\r\n                                {/* <p><strong>Interest from Savings:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.other_income_interest_savings)}</p>\r\n                                <p><strong>Interest from FD:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.other_income_interest_fd)}</p>\r\n                                <p><strong>Dividend Income:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.other_income_dividend)}</p>\r\n                                <p><strong>Miscellaneous Income:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.other_income_misc)}</p> */}\r\n                                <p><strong>Income from Other Sources:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.income_from_other_sources)}</p>\r\n                                <p><strong>Long Term Capital Gains:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.capital_gains_long_term)}</p>\r\n                                <p><strong>Short Term Capital Gains:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.capital_gains_short_term)}</p>\r\n                                <p className=\"font-bold\"><strong>Total Gross Income (Aggregated):</strong> {formatCurrency(selectedRecord.aggregated_financial_data.total_gross_income)}</p>\r\n                            </div>\r\n\r\n                            <div className=\"deductions-section\">\r\n                                <h5>Deductions Claimed</h5>\r\n                                <p><strong>Standard Deduction:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.standard_deduction)}</p>\r\n                                <p><strong>Professional Tax:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.professional_tax)}</p>\r\n                                <p><strong>Interest on Home Loan (Section 24(b)):</strong> {formatCurrency(selectedRecord.aggregated_financial_data.interest_on_housing_loan_24b)}</p>\r\n                                <p><strong>Section 80C Investments:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.deduction_80C)}</p>\r\n                                <p><strong>Section 80CCD1B:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.deduction_80CCD1B)}</p>\r\n                                <p><strong>Section 80D (Health Insurance):</strong> {formatCurrency(selectedRecord.aggregated_financial_data.deduction_80D)}</p>\r\n                                <p><strong>Section 80G:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.deduction_80G)}</p>\r\n                                <p><strong>Section 80TTA:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.deduction_80TTA)}</p>\r\n                                <p><strong>Section 80TTB:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.deduction_80TTB)}</p>\r\n                                <p><strong>Section 80E (Education Loan Interest):</strong> {formatCurrency(selectedRecord.aggregated_financial_data.deduction_80E)}</p>\r\n                                <p className=\"font-bold\"><strong>Total Deductions (Overall):</strong> {formatCurrency(selectedRecord.aggregated_financial_data.total_deductions)}</p>\r\n                            </div>\r\n\r\n                            <div className=\"taxation-summary-section\">\r\n                                <h5>Tax Payments & Regime</h5>\r\n                                <p><strong>Total TDS Credit:</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.total_tax_paid_credit)}</p>\r\n                                <p><strong>Advance Tax Paid:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.advance_tax)}</p>\r\n                                <p><strong>Self-Assessment Tax Paid:</strong> {formatCurrency(selectedRecord.aggregated_financial_data.self_assessment_tax)}</p>\r\n                                <p><strong>Tax Regime Chosen (from docs):</strong> <span className=\"highlight-regime\">{selectedRecord.aggregated_financial_data.tax_regime_chosen || 'Not Specified'}</span></p>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Final Tax Computation Summary (Rule-Based) */}\r\n                    {selectedRecord.final_tax_computation_summary && (\r\n                        <div className=\"final-tax-computation-section section-box\">\r\n                            <h4>Final Tax Computation Summary (Rule-Based)</h4>\r\n                            <div className=\"computation-detail\">\r\n                                <p><strong>Calculated Gross Income:</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.calculated_gross_income)}</p>\r\n                            </div>\r\n                            <div className=\"computation-detail\">\r\n                                <p><strong>Calculated Total Deductions:</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.calculated_total_deductions)}</p>\r\n                            </div>\r\n                            <div className=\"computation-detail\">\r\n                                <p><strong>Computed Taxable Income:</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.computed_taxable_income)}</p>\r\n                            </div>\r\n                            <div className=\"computation-detail\">\r\n                                <p><strong>Estimated Tax Payable (Before Credits):</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.estimated_tax_payable)}</p>\r\n                            </div>\r\n                            <div className=\"computation-detail\">\r\n                                <p><strong>Total Tax Paid Credit:</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.total_tax_paid_credit)}</p>\r\n                            </div>\r\n                            <div className=\"computation-detail\">\r\n                                <p><strong>Tax Regime Considered for Rule-Based Calculation:</strong> <span className=\"highlight-regime\">{selectedRecord.final_tax_computation_summary.predicted_tax_regime || 'N/A'}</span></p> {/* Corrected to predicted_tax_regime from backend */}\r\n                            </div>\r\n                            <div className=\"final-amount-box\">\r\n                                {selectedRecord.final_tax_computation_summary.predicted_refund_due > 0 && (\r\n                                    <p className=\"refund-amount\">\r\n                                        <strong>Refund Due:</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.predicted_refund_due)}\r\n                                    </p>\r\n                                )}\r\n                                {selectedRecord.final_tax_computation_summary.predicted_additional_due > 0 && (\r\n                                    <p className=\"tax-due-amount\">\r\n                                        <strong>Additional Tax Due:</strong> {formatCurrency(selectedRecord.final_tax_computation_summary.predicted_additional_due)}\r\n                                    </p>\r\n                                )}\r\n                            </div>\r\n                            {selectedRecord.final_tax_computation_summary.notes && (\r\n                                <p className=\"computation-notes\">\r\n                                    <strong>Note:</strong> {Array.isArray(selectedRecord.final_tax_computation_summary.notes) ? selectedRecord.final_tax_computation_summary.notes.join(', ') : selectedRecord.final_tax_computation_summary.notes}\r\n                                </p>\r\n                            )}\r\n\r\n                            {selectedRecord.final_tax_computation_summary.calculation_details && selectedRecord.final_tax_computation_summary.calculation_details.length > 0 && (\r\n                                <div className=\"detailed-calculation-section mt-4\">\r\n                                    <h5>Detailed Calculation Steps:</h5>\r\n                                    <ul className=\"list-disc list-inside text-sm pl-4\">\r\n                                        {selectedRecord.final_tax_computation_summary.calculation_details.map((detail, index) => (\r\n                                            <li key={index} className=\"mb-1\">{detail}</li>\r\n                                        ))}\r\n                                    </ul>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* AI Recommendations & Predictions */}\r\n                    {selectedRecord.ml_prediction_summary || selectedRecord.suggestions_from_gemini?.length > 0 || selectedRecord.gemini_regime_analysis ? (\r\n                        <div className=\"suggestions-output section-box\">\r\n                            <h4>AI Recommendations & Predictions</h4>\r\n                            {selectedRecord.suggestions_from_gemini && selectedRecord.suggestions_from_gemini.length > 0 ? (\r\n                                <>\r\n                                    <h5>Based on Gemini AI:</h5>\r\n                                    <ul className=\"suggestions-list\">\r\n                                        {selectedRecord.suggestions_from_gemini.map((suggestion, index) => (\r\n                                            <li key={index}>{suggestion}</li>\r\n                                        ))}\r\n                                    </ul>\r\n                                </>\r\n                            ) : (\r\n                                <p>Gemini did not provide specific tax-saving suggestions for this record.</p>\r\n                            )}\r\n\r\n                            {selectedRecord.gemini_regime_analysis && (\r\n                                <div className=\"gemini-regime-analysis\">\r\n                                    <h5>Gemini's Regime Analysis:</h5>\r\n                                    <p>{selectedRecord.gemini_regime_analysis}</p>\r\n                                </div>\r\n                            )}\r\n\r\n                            {selectedRecord.ml_prediction_summary && (\r\n                                <>\r\n                                    <h5>ML Model Prediction:</h5>\r\n                                    {selectedRecord.ml_prediction_summary.predicted_tax_regime && (\r\n                                        <p><strong>Predicted Tax Regime:</strong> {selectedRecord.ml_prediction_summary.predicted_tax_regime}</p>\r\n                                    )}\r\n                                    <p><strong>Predicted Tax Liability:</strong> {formatCurrency(selectedRecord.ml_prediction_summary.predicted_tax_liability)}</p>\r\n                                    <p className=\"refund-amount\"><strong>Predicted Refund Due:</strong> {formatCurrency(selectedRecord.ml_prediction_summary.predicted_refund_due)}</p>\r\n                                    <p className=\"tax-due-amount\"><strong>Predicted Additional Tax Due:</strong> {formatCurrency(selectedRecord.ml_prediction_summary.predicted_additional_due)}</p>\r\n                                    {selectedRecord.ml_prediction_summary.notes && (\r\n                                        <p><strong>Notes:</strong> {selectedRecord.ml_prediction_summary.notes}</p>\r\n                                    )}\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"section-box\">\r\n                            <p>No AI recommendations or ML predictions available for this record yet. These are generated when you click \"Get AI Suggestions & ML Predictions\" after uploading documents.</p>\r\n                        </div>\r\n                    )}\r\n\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TaxHistory;\r\n"],"mappings":";;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAMA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,WAAW;AAC/B,OAAO,aAAa,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEtB,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,qBAAA;EACrB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACe,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACiB,WAAW,EAAEC,cAAc,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EACpD,MAAM,CAACmB,cAAc,EAAEC,iBAAiB,CAAC,GAAGpB,QAAQ,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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}